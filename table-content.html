<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dental Form</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" href="css/style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>
  <div class="container" id="content"> 

    <form class="">
      <table class="table table-borderless" style="width: 100%;" cellpadding="0" cellspacing="0">
        <tr class="top">
          <td colspan="3">
            <table>
              <tr>
                <td class="logo">
                  <img src="images\stomadent_logo_.svg" class="img-fluid" style="max-width: 200px; width: 100%;">
                </td>
                <td class="address">
                  192 Gammage St,<br />
                  London, Ontario,<br />
                  N5Y 2B3<br />
                  T: 519-636-7900,<br />
                  www.stomadent.ca,<br /> 
                  info@stomadent.ca<br />
                </td>
              </tr>
            </table>
          </td>
        </tr>
        <tr class="information">
          <td>
            <table>
              <tr class="w-100">
                <td>
                  <div class="col-md-4 col-sm-4" id="date-col">
                    <div class="row">
                    
                        <label for="date">Date:</label>
                    
                    </div>
                    <div class="row">
                     
                        <input type="date" id="date" name="date">
                    </div> 
                  </div>
                </td>
                <td>
                  <!-- Date Requested -->
                  <div class="col-md-4 col-sm-4 justify-content-center" id="date-requested-col">        
                    <div class="row " style="border:#000 1px solid;">
                      <!-- <div class="col-4 col-sm-3">    -->
                      <label for="date-requested" class="fw-bold text-center">DATE REQUESTED:</label>
                    
                        <input type="date" id="date-requested" name="date-requested"  class="text-center"> 
                    
                    </div>
                  </div>
                </td>
                <td>
                  <!-- Email TODO--> 
                  <div class="col-md-3 col-sm-3">
                    <div class="row" >      
                      <label for="email" class="text-uppercase fw-bold" id="dentist-label">Dentist's Email:</label>
                    </div>
                    <div class="row">
                      <input type="email" id="email-input" name="email">
                    </div>       
                  </div>
                </td>
              </tr>
            </table>
          </td>
        </tr>
    </table>

      
      <div class="row mt-0 pt-0 on-print-bottom d-flex justify-content-between on-print-30" id="date-row">
        <!-- Date --> 
        <div class="col-md-4 col-sm-4" id="date-col">
          <div class="row">
            <!-- <div class="col-md-10"> -->
              <label for="date">Date:</label>
            <!-- </div> -->
          </div>
          <div class="row">
            <!-- <div class="col-md-10"> -->
              <input type="date" id="date" name="date">
            <!-- </div> -->
            <!-- <div class="col-md-2">       
              <span class="error">* </span>
            </div> -->
          </div>
          <!-- <br><br> -->
        </div>

        <!-- Date Requested TODO-->
        <div class="col-md-4 col-sm-4 justify-content-center" id="date-requested-col">        
          <div class="row " style="border:#000 1px solid;">
            <!-- <div class="col-4 col-sm-3">    -->
            <label for="date-requested" class="fw-bold text-center">DATE REQUESTED:</label>
          <!-- </div>        </div>  -->
        
          <!-- <div class="row"> -->
            <!-- <div class="col-7 col-sm-7 text-center"> -->
              <input type="date" id="date-requested" name="date-requested"  class="text-center"> 
            <!-- </div>   -->
            <!-- <div class="col-md-3">
              <span class="error">* </span>
            </div>            -->
          </div>
        </div>

        <!-- Email TODO--> 
        <div class="col-md-3 col-sm-3">
          <div class="row" >      
            <label for="email" class="text-uppercase fw-bold" id="dentist-label">Dentist's Email:</label>
          </div>
          <div class="row">
            <input type="email" id="email-input" name="email">
          </div>       
          <!-- <span class="error">* </span> -->
          <!-- <br><br> -->
        </div>
      </div>

      <!-- Office -->
      <div class="form-group row mt-2" id="office-print">  
        <label for="office" class="col-md-1 col-sm-2 col-form-label mx-0 px-0 on-print-top">Office:</label>
        <div class="col-md-11 col-sm-10 px-0 on-print-top">
          <input type="text" class="form-control border border-secondary on-print-bottom" id="office">
        </div>               
      </div>

      <!-- Dentist -->
      <div class="form-group row mt-2 on-print-bottom " id="dentist-print">  
        <label for="dentist" class="col-md-1 col-sm-2 col-form-label mx-0 px-0 on-print">Dentist:</label>
        <div class="col-md-11 col-sm-10 px-0">
          <input type="text" class="form-control border border-secondary on-print" id="dentist">
        </div>               
      </div>
      
      <!-- Patient -->
      <div class="form-group row mt-2 on-print" id="patient-print">  
        <label for="patient" class="col-md-1 col-sm-2 col-form-label mx-0 px-0 on-print" >Patient:</label>
        <div class="col-md-11 col-sm-10 px-0">
          <input type="text" class="form-control border border-secondary on-print" id="patient">
        </div>               
      </div>

      <div class="row row-on-print">
        <div class="d-flex row align-items-center flex-wrap mt-0 pt-0" id="gender-age-row">   
          <!-- Gender: -->
          <div class="col-md-4 col-sm-4 mx-0 px-0" id="gender-col">
            <label class="form-check-label mx-0 px-0" for="gender">Sex:</label>        
            <div class="form-check form-check-inline pe-1">
              <input class="form-check-input border border-secondary" type="checkbox" id="gender-male" value="male">
              <label class="form-check-label" for="gender-male">M</label>
            </div>
            <div class="form-check form-check-inline px-2">
              <input class="form-check-input border border-secondary" type="checkbox" id="gender-female" value="female">
              <label class="form-check-label px-0 mx-0" for="gender-female">F</label>
            </div>
          </div>
          <!-- Age: -->
          <div class="col-md-2 col-sm-2 d-flex justify-content-start" id="age-col">
            <div class="row ">
              <div class="col-6 col-sm-3 px-0">
                <label for="age" class="px-0">Age:</label> 
              </div> 
              <div class="col-6 ps-3 mt-1">      
                <input type="number" id="age" name="age" min="1" max="150" class="form-control border border-secondary w-auto p-0 m-0">  
                </div>       
            </div>
          </div>
          <!-- Colour Toolbar: -->
          <div class="col-md-6 col-sm-6 d-print-none my-2 p-0">
            <div id="toolbar" class="form-control d-flex justify-content-evenly ms-4 pe-4">
              <!-- <div class="form-check form-check-inline px-0"> -->
                <label for="stroke" class="">Colour</label>
              <!-- </div> -->
              <!-- <div class="form-check form-check-inline px-0"> -->
                <input id="stroke" name="stroke" type="color" class="">
              <!-- </div> -->
              <!-- <div class="form-check form-check-inline px-0"> -->
                <label for="lineWidth" class="">Line Width</label>
              <!-- </div> -->
              <!-- <div class="form-check form-check-inline px-0"> -->
                <input id="lineWidth" name="lineWidth" type="number" value="5" style="width: 3em;">
              <!-- </div> -->
              <!-- <div class="form-check form-check-inline px-0"> -->
                <button id="clear">Clear</button>
              <!-- </div> -->
            </div>
          </div>
        </div>     
      </div>

      <!-- <div class="row d-flex align-items-center flex-wrap"> -->
      <div class="row my-0 py-0 on-print-30" id="instruction-row">
        <!-- Detailed Instruction -->
        <div class="col-md-7 col-sm-7 on-print">  
          <div class="row">
            <label for="detailed-instruction">Detailed Instruction:</label>
            <textarea id="detailed-instruction" name="detailed-instruction" rows="10" cols="50"></textarea> 
          </div>
          <div class="row">
            <!-- Return to me as a: -->
            <div class="row mt-2 pt-2 me-0 ps-0 ms-0 pe-0"> 
              <div class="col-md-7 col-sm-7 w-100">
                <div class="row">
                  <label for="return-as" class="text-decoration-underline fw-bold">Return to me as a:</label><br />
                </div>
                <div class="row me-0 ps-0 ms-0 pe-0">
                  <div class="col-md-6 col-sm-6 ps-0 pe-0">
                    <input type="checkbox" name="return-as" value="wax-up" class="me-2 mt-2 pt-2">wax up<br />
                    <input type="checkbox" name="return-as" value="diagnostic" class="me-2 pe-0 ps-0 ">diagnostic<br />
                    <input type="checkbox" name="return-as" value="try-in" class="me-2">try in<br />
                    
                  </div>
                
                  <div class="col-md-6 col-sm-6 ps-0 pe-0">
                    <input type="checkbox" name="return-as" value="bisque-bake" class="me-2 mt-2">bisque bake<br />
                    <input type="checkbox" name="return-as" value="finish" class="me-2">finish 
                  </div> 
                </div>    
              </div>
            </div>             
          </div>
        </div>
        <!-- TODO: Canva -->
        <div class="col-md-5 col-sm-5 text-center field"> 
          <!-- <div id="toolbar" class="mb-2 pb-2">
            <label for="color">Colour</label>
            <input id="stroke" name="color" type="color">
            <label for="lineWidth">Line Width</label>
            <input id="lineWidth" name="lineWidth" type="number" value="5" style="width:10%;">
            <button id="clear">Clear</button>
          </div> -->
          <div class="teeth-canvas">
            <canvas id="teethCanvas" width="315" height="657" style="border:1px solid black;" class="img-fluid"></canvas>
          </div>            
        </div>
      </div>

      <!-- Dentist's Signature -->
      <div class="row on-print on-print-30">
        <div class="col-md-4 col-sm-4 on-print">
          <div class="row"> 
            <label for="signature" class="text-uppercase">Dentist's Signature:</label><br />
          </div>
          <div class="row m-0 px-0 on-print-bottom"> 
            <button id="sign-button" class="d-print-none on-print-bottom btn btn-outline-primary btn-sm mx-0 px-0">Clear Signature</button>
          </div>
        </div>
        <div class="col-md-8 col-sm-8 on-print on-print-bottom">
          <canvas id="sign-here" width="500" height="100" class="w-100 on-print-bottom" style="border:1px solid black;"></canvas>
        </div>
      </div>
      
      <!-- Buttons -->
      <div class="row d-print-none d-flex justify-content-center my-4 py-4">
        <div class="col-md-4 col-sm-4 text-center">
          <button type="reset" class="btn btn-danger btn-lg">
            Reset Form
          </button>
        </div>
        <div class="col-md-4 col-sm-4 text-center">
          <!-- TODO: on submit, save doc in pdf format and email to 2 emails -->
          <button type="button" id="saveButton" class="btn btn-primary btn-lg">
            Submit
          </button>

          <!-- TODO: Use Toast or Modal to notify user that email was sent and say thank you -->

        </div>
        <!-- TODO: fix page on print -->
        <div class="col-md-4 col-sm-4 text-center">
          <button type="button" name="print" class="btn btn-secondary btn-lg col-7" onclick="window.print()">
            Print
          </button>
        </div> 
      </div>
      
    </form>
  </div>

<script src="script/index.js"></script>
<script src="script/sendPdf.js"></script>
<script type="text/javascript" src="script/draw-on-teeth.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<span style="position: absolute; top: -999px; left: -999px;"></span>
</body>
</html>